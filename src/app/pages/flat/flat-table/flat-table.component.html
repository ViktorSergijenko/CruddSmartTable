<nb-flip-card *ngIf="houseService.selectedHouse">
  <nb-card-front>
    <nb-card accent="info" status="success">
      <nb-card-header>
        <h1>Flat Table</h1>
      </nb-card-header>
      <nb-card-body>
        <br>
        <h3>Total amount of flats in all houses: {{flatService.TotalFlatsInTable}} flats</h3>
        <h3>Flats in this House: {{flatService.TotalFlatsInAdditionalHouse}} Flats are located in this house</h3>
      </nb-card-body>
    </nb-card>
  </nb-card-front>
  <nb-card-back>
    <nb-card accent="info" status="success">
      <nb-card-header>
        <h1>House Info:</h1>
      </nb-card-header>
      <nb-card-body>
        Street: {{houseService.selectedHouse.street}}
        <br>Number: {{houseService.selectedHouse.number}}
        <br>Floors: {{houseService.selectedHouse.floors}}
        <br>City: {{houseService.selectedHouse.city}}
        <br>Country: {{houseService.selectedHouse.country}}
        <br>Postindex: {{houseService.selectedHouse.postindex}}
      </nb-card-body>
    </nb-card>
  </nb-card-back>
</nb-flip-card>

<nb-card *ngIf="!flatService.FlatEditForm && !flatService.FlatRegForm">
  <nb-card-header>
    <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; display: table; margin: 0 auto;">
      <div class="row">

        <div class="col-sm-12" *ngIf="!houseId" style="text-align: center;">
          <h1>Flat Table</h1> Total amount of flats in all houses: {{flatService.TotalFlatsInTable}} flats
          <br>
          <button class="btn btn-hero-info btn-demo" (click)="getFullList()" *ngIf="houseId">Get Full List</button>
        </div>
      </div>
    </div>


  </nb-card-header>


  <nb-card-body>
    <ng2-smart-table [settings]="settings" [source]="source" (delete)="onDeleteConfirm($event)" (edit)="onSaveConfirm($event)"
      (create)="onCreateConfirm($event)" (userRowSelect)="onUserRowSelect($event)">
    </ng2-smart-table>
  </nb-card-body>
  <button class="btn btn-hero-primary btn-demo" (click)="goBack()">GoBack</button>
</nb-card>



<form class="emp-form" #flatForm="ngForm" (ngSubmit)="onSubmit(flatForm)" *ngIf="flatService.FlatRegForm">
  <nb-card>
    <nb-card-header>Flat Registration Form</nb-card-header>
    <nb-card-body>
      <div class="row">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.id" name="id" #id="ngModel" [(ngModel)]="flatService.selectedFlat.id">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.residentamount" name="residentamount" #id="ngModel"
          [(ngModel)]="flatService.selectedFlat.residentamount">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.houseid" name="houseid" #id="ngModel" [(ngModel)]="flatService.selectedFlat.houseid">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputstreet">Floor</label>
            <input class="form-control" id="inputfloor" name="floor" #floor="ngModel" [(ngModel)]="flatService.selectedFlat.floor" placeholder="Floor"
              required>
            <div class="validation-error" *ngIf="floor.invalid && floor.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputnumber">Flat Number</label>
            <input type="text" class="form-control" id="inputnumber" name="number" #number="ngModel" [(ngModel)]="flatService.selectedFlat.number"
              placeholder="Flat Number" required>
            <div class="validation-error" *ngIf="number.invalid && number.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputtotalarea">Total Area</label>
            <input type="text" class="form-control" id="inputtotalarea" name="totalarea" #totalarea="ngModel" [(ngModel)]="flatService.selectedFlat.totalarea"
              placeholder="Total Area" required>
            <div class="validation-error" *ngIf="totalarea.invalid && totalarea.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputlivingspace">Living Space</label>
            <input type="text" class="form-control" id="inputlivingspace" name="livingspace" #livingspace="ngModel" [(ngModel)]="flatService.selectedFlat.livingspace"
              placeholder="Living Space" required>
            <div class="validation-error" *ngIf="livingspace.invalid && livingspace.touched">This field is Required</div>
          </div>
        </div>
      </div>
      <button type="submit" [disabled]="!flatForm.valid" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="resetTheFuckingForm(flatForm)">Reset</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="onClose(flatForm)">Close</button>
    </nb-card-body>
  </nb-card>
</form>

<form class="emp-form" #flatForm="ngForm" (ngSubmit)="onSubmit(flatForm)" *ngIf="flatService.FlatEditForm">
  <nb-card>
    <nb-card-header>Flat Edit Table</nb-card-header>
    <nb-card-body>
      <div class="row">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.id" name="id" #id="ngModel" [(ngModel)]="flatService.selectedFlat.id">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.residentamount" name="residentamount" #id="ngModel"
          [(ngModel)]="flatService.selectedFlat.residentamount">
        <input type="hidden" *ngIf="flatService.selectedFlat && flatService.selectedFlat.houseid" name="houseid" #id="ngModel" [(ngModel)]="flatService.selectedFlat.houseid">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputstreet">Floor</label>
            <input class="form-control" id="inputfloor" name="floor" #floor="ngModel" [(ngModel)]="flatService.selectedFlat.floor" placeholder="Floor"
              required>
            <div class="validation-error" *ngIf="floor.invalid && floor.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputnumber">Flat Number</label>
            <input type="text" class="form-control" id="inputnumber" name="number" #number="ngModel" [(ngModel)]="flatService.selectedFlat.number"
              placeholder="Flat Number" required>
            <div class="validation-error" *ngIf="number.invalid && number.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputtotalarea">Total Area</label>
            <input type="text" class="form-control" id="inputtotalarea" name="totalarea" #totalarea="ngModel" [(ngModel)]="flatService.selectedFlat.totalarea"
              placeholder="Total Area" required>
            <div class="validation-error" *ngIf="totalarea.invalid && totalarea.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="Living Space">Living Space</label>
            <input type="text" class="form-control" id="inputlivingspace" name="livingspace" #livingspace="ngModel" [(ngModel)]="flatService.selectedFlat.livingspace"
              placeholder="livingspace" required>
            <div class="validation-error" *ngIf="livingspace.invalid && livingspace.touched">This field is Required</div>
          </div>
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="resetTheFuckingForm(flatForm)">Reset</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="onClose(flatForm)">Close</button>
    </nb-card-body>
  </nb-card>
</form>
<pre class="code" *ngIf="flatService.selectedFlat">
  {{flatService.selectedFlat | json}}
</pre>