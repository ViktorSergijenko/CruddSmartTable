<nb-flip-card *ngIf="flatService.selectedFlat">
  <nb-card-front>
    <nb-card accent="info" status="success">
      <nb-card-header>
        <h1>Resident Table</h1>
      </nb-card-header>
      <nb-card-body>
        <br>Total amount of residents in all flats: {{residentService.TotalResidentsInAllFlats}} residents
        <br>Total amount of residents in this flat: {{residentService.TotalResidentsInAdditionalFlat}} residents
      </nb-card-body>
    </nb-card>
  </nb-card-front>
  <nb-card-back>
    <nb-card>
      <nb-card-body>
        <h1>Flat Info:</h1> Floor: {{ flatService.selectedFlat.floor}}
        <br>Number: {{ flatService.selectedFlat.number}}
        <br>Total Area: {{ flatService.selectedFlat.totalarea}}
      </nb-card-body>
    </nb-card>
  </nb-card-back>
</nb-flip-card>

<nb-card *ngIf="!residentService.ResidentEditForm && !residentService.ResidentRegForm">
  <nb-card-header>
    <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; align-items: center; display: table; margin: 0 auto;">
      <div class="row">
        <div class="col-sm-12" *ngIf="!flatId" style="text-align: center;">
          <h1>Resident Table</h1> Total amount of residents in all flats: {{residentService.TotalResidentsInAllFlats}} residents
          <i class="fas fa-door-open"></i>
          <br>
          <button class="btn btn-hero-info btn-demo" (click)="getFullList()" *ngIf="flatId">Go To Resident List</button>
        </div>
      </div>
    </div>
  </nb-card-header>

  <nb-card-body>
    <ng2-smart-table [settings]="settings" [source]="source" (delete)="onDeleteConfirm($event)" (edit)="onSaveConfirm($event)"
      (create)="onCreateConfirm($event)">
    </ng2-smart-table>
  </nb-card-body>
  <button class="btn btn-hero-primary btn-demo" (click)="goBack()">Go Back</button>
</nb-card>

<form class="emp-form" #residentForm="ngForm" (ngSubmit)="onSubmit(residentForm)" *ngIf="residentService.ResidentRegForm">
  <nb-card>
    <nb-card-header>Resident Registration Form</nb-card-header>
    <nb-card-body>
      <div class="row">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.id" name="id" #id="ngModel"
          [(ngModel)]="residentService.selectedResident.id">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.flatamount" name="flatamount"
          #id="ngModel" [(ngModel)]="residentService.selectedResident.flatamount">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.flatid" name="flatid" #id="ngModel"
          [(ngModel)]="residentService.selectedResident.flatid">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputstreet">First Name</label>
            <input class="form-control" id="inputstreet" name="firstname" #firstname="ngModel" [(ngModel)]="residentService.selectedResident.firstname"
              placeholder="First Name" required>
            <div class="validation-error" *ngIf="firstname.invalid && firstname.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputnumber">Last Name</label>
            <input type="text" class="form-control" id="inputnumber" name="lastname" #lastname="ngModel" [(ngModel)]="residentService.selectedResident.lastname"
              placeholder="Last Name" required>
            <div class="validation-error" *ngIf="lastname.invalid && lastname.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputpostcode">Post Code</label>
            <input type="text" class="form-control" id="inputpostcode" name="postcode" #postcode="ngModel" [(ngModel)]="residentService.selectedResident.postcode"
              placeholder="Post Code" required>
            <div class="validation-error" *ngIf="postcode.invalid && postcode.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputcity">Phone Number</label>
            <input type="text" class="form-control" id="inputcity" name="phone" #phone="ngModel" [(ngModel)]="residentService.selectedResident.phone"
              placeholder="Phone Number" [pattern]="phonePattern" required>
            <div class="validation-error" *ngIf="phone.invalid && phone.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputcountry">Email</label>
            <input type="text" class="form-control" id="inputcountry" name="email" #email="ngModel" [(ngModel)]="residentService.selectedResident.email"
              placeholder="Email" required>
            <div class="validation-error" *ngIf="email.invalid && email.touched">This field is Required</div>
          </div>
        </div>

      </div>
      <button type="submit" [disabled]="!residentForm.valid" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="resetForm(residentForm)">Reset</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="onClose(flatForm)">Close</button>
    </nb-card-body>
  </nb-card>
</form>

<form class="emp-form" #residentForm="ngForm" (ngSubmit)="onSubmit(residentForm)" *ngIf="residentService.ResidentEditForm">
  <nb-card>
    <nb-card-header>Resident Edit Form</nb-card-header>
    <nb-card-body>
      <div class="row">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.id" name="id" #id="ngModel"
          [(ngModel)]="residentService.selectedResident.id">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.flatamount" name="flatamount"
          #id="ngModel" [(ngModel)]="residentService.selectedResident.flatamount">
        <input type="hidden" *ngIf="residentService.selectedResident && residentService.selectedResident.flatid" name="flatid" #id="ngModel"
          [(ngModel)]="residentService.selectedResident.flatid">
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputstreet">First Name</label>
            <input class="form-control" id="inputstreet" name="firstname" #firstname="ngModel" [(ngModel)]="residentService.selectedResident.firstname"
              placeholder="First Name" required>
            <div class="validation-error" *ngIf="firstname.invalid && firstname.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputnumber">Last Name</label>
            <input type="text" class="form-control" id="inputnumber" name="lastname" #lastname="ngModel" [(ngModel)]="residentService.selectedResident.lastname"
              placeholder="Last Name" required>
            <div class="validation-error" *ngIf="lastname.invalid && lastname.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputpostcode">Post Code</label>
            <input type="text" class="form-control" id="inputpostcode" name="postcode" #postcode="ngModel" [(ngModel)]="residentService.selectedResident.postcode"
              placeholder="Post Code" required>
            <div class="validation-error" *ngIf="postcode.invalid && postcode.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputcity">Phone Number</label>
            <input type="text" class="form-control" id="inputcity" name="phone" #phone="ngModel" [(ngModel)]="residentService.selectedResident.phone"
              placeholder="Phone Number" [pattern]="phonePattern" required>
            <div class="validation-error" *ngIf="phone.invalid && phone.touched">This field is Required</div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <label for="inputcountry">Email</label>
            <input type="text" class="form-control" id="inputcountry" name="email" #email="ngModel" [(ngModel)]="residentService.selectedResident.email"
              placeholder="Email" required>
            <div class="validation-error" *ngIf="email.invalid && email.touched">This field is Required</div>
          </div>
        </div>
        <!-- <div class="col-sm-6">
          <div class="form-group">
            <label for="inputpostindex">PostIndex</label>
            <input type="email" class="form-control" id="inputpostindex" name="flatid" #flatid="ngModel" [(ngModel)]="residentService.selectedResident.flatid"
              placeholder="flatid" required>
          </div>
        </div> -->
      </div>
      <button type="submit" [disabled]="!residentForm.valid" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="resetForm(residentForm)">Reset</button>
      <button type="button" class="btn btn-hero-warning btn-demo" (click)="onClose(flatForm)">Close</button>

    </nb-card-body>
  </nb-card>
</form>
<pre class="code">
  {{residentService.selectedResident | json}}
</pre>